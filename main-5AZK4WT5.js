import{a as U}from"./chunk-GMOD6EFO.js";import{a as F,b as Ne,c as ze,d as Pe,e as Ue,f as E,g as qe,h as S,i as q,j as $,k as T,l as G,m as V,n as B,o as L}from"./chunk-SOCHOKZM.js";import{c as $e}from"./chunk-N3ZTD2TR.js";import{$ as i,$a as Qe,A as p,Aa as Fe,B as h,Ba as Ae,C as s,D as l,Ea as je,F as Ce,Fa as Oe,G as I,Ga as _e,H as be,Ia as Te,Ka as we,La as De,Ma as ke,O as R,R as D,S as xe,U as m,V as O,X as _,Xa as H,Y as v,Ya as N,Za as z,_a as P,a as me,aa as n,b as de,ba as k,ca as ae,da as ce,f as A,fa as Me,g as ge,ga as Ie,gb as He,h as d,j as ie,k as ne,l as w,m as y,n as ve,na as a,o as ye,oa as fe,p as he,r as Ee,ra as Q,s as se,t as Se,w as j,wa as Re}from"./chunk-R2VOVZNE.js";import{a as f,b as g}from"./chunk-AIZVJUQQ.js";var K=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-main"]],standalone:!0,features:[Q],decls:11,vars:0,consts:[[1,"absolute","inset-x-0","top-1/4","flex","flex-col","items-center","justify-between"],[1,"first:text-bright","flex","items-center","*:px-1","pb-10","flex-wrap","justify-center","text-center","w-3/4"],["type","H1"],["type","H3","highlightText","framed"],["type","H1","highlightText","ellipse"],["link","/quizzes-catalog"],["size","md","iconState","next"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"app-ui-typography",2),a(3,"Make your"),n(),i(4,"app-ui-typography",3),a(5,"choice"),n(),i(6,"app-ui-typography",4),a(7,"."),n()(),i(8,"app-ui-link",5)(9,"app-ui-button",6),a(10,"Go to a quiz"),n()()())},dependencies:[H,z,N,P],encapsulation:2})};var Ve=(e,o,t,r)=>r&&t.url!==r.url&&e.canDeactivate?e.canDeactivate():!0;var Be=[{path:"main",component:K},{path:"quizzes-catalog",loadComponent:()=>import("./chunk-UKETN3VF.js").then(e=>e.QuizzesCatalogComponent)},{path:"quiz/:id",loadComponent:()=>import("./chunk-SO27X635.js").then(e=>e.QuestionComponent),canDeactivate:[Ve]},{path:"statistics",loadComponent:()=>import("./chunk-VNK3K3EI.js").then(e=>e.StatisticsComponent)},{path:"**",redirectTo:"/main",pathMatch:"full"}];var ut={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Y="__@ngrx/effects_create__";function Z(e,o={}){let t=o.functional?e:e(),r=f(f({},ut),o);return Object.defineProperty(t,Y,{value:r}),t}function lt(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(Y)?e[r][Y].hasOwnProperty("dispatch"):!1).map(r=>{let u=e[r][Y];return f({propertyName:r},u)})}function mt(e){return lt(e)}function Ke(e){return Object.getPrototypeOf(e)}function dt(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Ye(e){return typeof e=="function"}function gt(e){return e.filter(Ye)}function vt(e,o,t){let r=Ke(e),c=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,M=mt(e).map(({propertyName:b,dispatch:nt,useEffectsErrorHandler:st})=>{let ue=typeof e[b]=="function"?e[b]():e[b],le=st?t(ue,o):ue;return nt===!1?le.pipe(ye()):le.pipe(Se()).pipe(d(at=>({effect:e[b],notification:at,propertyName:b,sourceName:c,sourceInstance:e})))});return ne(...M)}var yt=10;function Ze(e,o,t=yt){return e.pipe(y(r=>(o&&o.handleError(r),t<=1?e:Ze(e,o,t-1))))}var J=(()=>{class e extends me{constructor(t){super(),t&&(this.source=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}static{this.\u0275fac=function(r){return new(r||e)(s(Ue))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function X(...e){return w(o=>e.some(t=>typeof t=="string"?t===o.type:t.type===o.type))}var mo=new h("@ngrx/effects Internal Root Guard"),go=new h("@ngrx/effects User Provided Effects"),vo=new h("@ngrx/effects Internal Root Effects"),yo=new h("@ngrx/effects Internal Root Effects Instances"),ho=new h("@ngrx/effects Internal Feature Effects"),Eo=new h("@ngrx/effects Internal Feature Effects Instance Groups"),ht=new h("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ze}),Et="@ngrx/effects/init",St=Ne(Et);function Ct(e,o){if(e.notification.kind==="N"){let t=e.notification.value;!bt(t)&&o.handleError(new Error(`Effect ${xt(e)} dispatched an invalid action: ${Mt(t)}`))}}function bt(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function xt({propertyName:e,sourceInstance:o,sourceName:t}){let r=typeof o[e]=="function";return!!t?`"${t}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function Mt(e){try{return JSON.stringify(e)}catch{return e}}var It="ngrxOnIdentifyEffects";function Rt(e){return pe(e,It)}var Ft="ngrxOnRunEffects";function At(e){return pe(e,Ft)}var jt="ngrxOnInitEffects";function Ot(e){return pe(e,jt)}function pe(e,o){return e&&o in e&&typeof e[o]=="function"}var Je=(()=>{class e extends de{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(se(t=>dt(t)?Ke(t):t),ie(t=>t.pipe(se(_t))),ie(t=>{let r=t.pipe(Ee(c=>Tt(this.errorHandler,this.effectsErrorHandler)(c)),d(c=>(Ct(c,this.errorHandler),c.notification)),w(c=>c.kind==="N"&&c.value!=null),he()),u=t.pipe(ve(1),w(Ot),d(c=>c.ngrxOnInitEffects()));return ne(r,u)}))}static{this.\u0275fac=function(r){return new(r||e)(s(D),s(ht))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _t(e){return Rt(e)?e.ngrxOnIdentifyEffects():""}function Tt(e,o){return t=>{let r=vt(t,e,o);return At(t)?t.ngrxOnRunEffects(r):r}}var wt=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(r){return new(r||e)(s(Je),s(E))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xe(...e){let o=e.flat(),t=gt(o);return be([t,{provide:Ce,multi:!0,useValue:()=>{l(ze),l(Pe,{optional:!0});let r=l(wt),u=l(Je),c=!r.isStarted;c&&r.start();for(let M of o){let b=Ye(M)?l(M):M;u.addEffects(b)}c&&l(E).dispatch(St())}}])}var kt={categories:[],loading:!1,error:""},We=q(kt,S($,e=>g(f({},e),{loading:!0})),S(T,(e,{categories:o})=>g(f({},e),{categories:o,loading:!1})),S(G,(e,{error:o})=>g(f({},e),{error:o,loading:!1})));var C=class e{errors=[];handleError(o){let t=this.formatError(o);this.errors.push(t),this.showError(t)}formatError(o){return o instanceof Error?o.message:typeof o=="string"?o:"An error occurred. Please reload the page or try later."}showError(o){let t=document.createElement("div"),r=document.createElement("img");r.src="error-notification-icon.svg",r.className="w-5 h-5 mr-2",t.className="flex items-center fixed right-4 p-3 pr-5 bg-error text-bright border-4 border-error rounded z-50",t.textContent=o,t.appendChild(r),document.body.appendChild(t),setTimeout(()=>{t.remove()},He)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var W=class e{constructor(o,t,r,u){this.categoryService=o;this.errorService=t;this.store=r;this.destroyRef=u}loadCategories$=Z(()=>l(J).pipe(X($),j(()=>this.store.select(o=>o.categories.categories).pipe(F(this.destroyRef),j(o=>o&&o.length>0?A(T({categories:o})):this.categoryService.get().pipe(d(t=>T({categories:t})),y(t=>(this.errorService.handleError(t),A(G({error:t}))))))))));static \u0275fac=function(t){return new(t||e)(s(U),s(C),s(E),s(R))};static \u0275prov=p({token:e,factory:e.\u0275fac})};var Ht={questions:[],loading:!1,error:""},tt=q(Ht,S(V,e=>g(f({},e),{loading:!0})),S(B,(e,{questions:o})=>g(f({},e),{questions:o,loading:!1})),S(L,(e,{error:o})=>g(f({},e),{error:o,loading:!1})));var ee=class e{constructor(o){this.http=o}getQuestions(o){let t=new URLSearchParams;return o!==0&&t.append("category",o.toString()),t.append("type","multiple"),this.http.get(`${Qe.QUESTION_URL}${t}`).pipe(d(r=>r.results),y(()=>ge(()=>new Error("An error occurred. Please reload the page or try later."))))}static \u0275fac=function(t){return new(t||e)(s(je))};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var te=class e{constructor(o,t,r,u){this.questionService=o;this.errorService=t;this.store=r;this.destroyRef=u}loadQuestions$=Z(()=>l(J).pipe(X(V),j(({categoryId:o})=>this.questionService.getQuestions(o).pipe(F(this.destroyRef),d(t=>B({questions:t})),y(t=>(this.errorService.handleError(t),A(L({error:t}))))))));static \u0275fac=function(t){return new(t||e)(s(ee),s(C),s(E),s(R))};static \u0275prov=p({token:e,factory:e.\u0275fac})};var ot={categories:We,questions:tt},rt=[W,te];var it={providers:[Re({eventCoalescing:!0}),ke(Be),Oe(),qe(ot),Xe(rt),U,[{provide:D,useClass:C}]]};function zt(e,o){e&1&&(i(0,"app-ui-typography"),a(1,"\u2630"),n())}function Pt(e,o){e&1&&(i(0,"app-ui-typography"),a(1,"\u2193"),n())}function Ut(e,o){if(e&1&&(ae(0),i(1,"app-ui-link",13)(2,"app-ui-typography",14),a(3),n()(),ce()),e&2){let t=o.$implicit;m(),v("link",t.link),m(2),fe(t.label)}}function qt(e,o){if(e&1&&(ae(0),i(1,"app-ui-link",13)(2,"app-ui-typography",14),a(3),n()(),ce()),e&2){let t=o.$implicit;m(),v("link",t.link),m(2),fe(t.label)}}function $t(e,o){if(e&1&&(i(0,"div",15),_(1,qt,4,2,"ng-container",8),i(2,"div",16)(3,"app-ui-button",10),a(4,"Sign in"),n(),i(5,"app-ui-button",11),a(6,"Sign up"),n()()()),e&2){let t=Ie();m(),v("ngForOf",t.menuItems)}}var oe=class e{constructor(o,t){this.router=o;this.destroyRef=t}logoSrc="main-logo.svg";isMenuOpen=!1;menuItems=[{link:"quizzes-catalog",label:"Quizzes catalog"},{link:"quiz/0",label:"Quiz"},{link:"statistics",label:"Statistics"}];toggleMenu(){this.isMenuOpen=!this.isMenuOpen}ngOnInit(){this.router.events.pipe(F(this.destroyRef)).subscribe(o=>{o instanceof Te&&(this.isMenuOpen=!1)})}static \u0275fac=function(t){return new(t||e)(O(De),O(R))};static \u0275cmp=I({type:e,selectors:[["app-ui-header"]],decls:18,vars:5,consts:[[1,"bg-primary","text-bright"],[1,"bg-primary","mx-auto","flex","items-center","justify-between","p-4"],["link","/"],["alt","logo","width","75","height","40",3,"src"],["aria-label","Toggle navigation",1,"text-white","md:hidden","flex","items-center","*:pl-3","hover:text-muted",3,"click"],[4,"ngIf"],[1,"hidden","md:flex","w-full","items-center","justify-between"],[1,"flex","items-center","justify-around","w-1/4","pl-7"],[4,"ngFor","ngForOf"],[1,"flex","w-1/4","justify-end"],["textName","P2","type","accent","size","sm"],["textName","P2","type","ghost","size","sm"],["class","absolute rounded-b-lg border-b-4 border-opacity-75 border-b-muted w-full bg-primary flex flex-col items-end md:hidden p-4 *:my-3 z-[1003]",4,"ngIf"],[1,"relative","cursor-pointer","hover:text-shade","nav-item-animation",3,"link"],["type","P1"],[1,"absolute","rounded-b-lg","border-b-4","border-opacity-75","border-b-muted","w-full","bg-primary","flex","flex-col","items-end","md:hidden","p-4","*:my-3","z-[1003]"],[1,"flex","items-center"]],template:function(t,r){t&1&&(i(0,"nav",0)(1,"div",1)(2,"app-ui-link",2),k(3,"img",3),n(),i(4,"button",4),Me("click",function(){return r.toggleMenu()}),_(5,zt,2,0,"app-ui-typography",5)(6,Pt,2,0,"app-ui-typography",5),i(7,"app-ui-typography"),a(8,"Menu"),n()(),i(9,"div",6)(10,"div",7),_(11,Ut,4,2,"ng-container",8),n(),i(12,"div",9)(13,"app-ui-button",10),a(14,"Sign in"),n(),i(15,"app-ui-button",11),a(16,"Sign up"),n()()()(),_(17,$t,7,1,"div",12),n()),t&2&&(m(3),v("src",r.logoSrc,xe),m(2),v("ngIf",!r.isMenuOpen),m(),v("ngIf",r.isMenuOpen),m(5),v("ngForOf",r.menuItems),m(6),v("ngIf",r.isMenuOpen))},dependencies:[Fe,Ae,z,N,P],styles:['.nav-item-animation[_ngcontent-%COMP%]:before{background-color:#7c9cbf;border-radius:4px;bottom:-3px;content:"";height:2px;left:0;position:absolute;transform-origin:right;transition:width .6s ease-in-out;width:0}.nav-item-animation[_ngcontent-%COMP%]:after{background-color:transparent;bottom:0;content:"";height:2px;position:absolute;right:100%;transform-origin:right;transition:width .6s ease-in-out;width:0}.nav-item-animation[_ngcontent-%COMP%]:hover:before{width:100%}.nav-item-animation[_ngcontent-%COMP%]:hover:after{width:100%}']})};var re=class e{constructor(o){this.statisticService=o}title="quiz-app";ngOnInit(){this.statisticService.initDefaultStatistic()}static \u0275fac=function(t){return new(t||e)(O($e))};static \u0275cmp=I({type:e,selectors:[["app-root"]],standalone:!0,features:[Q],decls:3,vars:0,consts:[[1,"w-full","min-h-screen","bg-primary"]],template:function(t,r){t&1&&(i(0,"div",0),k(1,"app-ui-header")(2,"router-outlet"),n())},dependencies:[we,H,oe],encapsulation:2})};_e(re,it).catch(e=>console.error(e));
