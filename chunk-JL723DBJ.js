import{b as A,d as D}from"./chunk-JYX46PZK.js";import{$ as n,G as l,Sa as T,Ta as I,U as s,Ua as u,V as g,Va as M,Wa as R,X as x,Xa as z,Y as c,Z as y,_ as o,aa as m,fa as C,ha as v,ia as b,ja as O,ka as p,la as d,ma as S,na as w}from"./chunk-BURNBECF.js";import"./chunk-AIZVJUQQ.js";function P(e){let a="P1",t="P2",i="Label",r=e.additionalData.map(f=>`<p class="pr-1.5 px-0.5 ${f.className} ${u[t]}">${f.value}</p>`).join("");return`
      <div class='w-full flex lg:py-3 max-lg:py-1.5'>
        <span class='block bg-${e.color.className} w-10 h-10 rounded mx-2'></span>
          <span>
            <span class='flex items-end max-md:flex-wrap '>
            <p class='${u[a]} text-primary'>${e.count}</p>
            <span class='flex items-end'>${r}</span>
          </span>        
          <p class='${u[i]} text-secondary'>${e.description}</p>
        </span>
      </div>
    `}var k={startAngle:-45,endAngle:315,expandOnClick:!0,offsetX:0,offsetY:0,customScale:1,donut:{size:"45%"}},$=[{breakpoint:768,options:{legend:{position:"bottom",horizontalAlign:"start"}}}];function L(e){return{series:e.map(a=>a.count),chart:{type:"donut",width:"100%",height:500},dataLabels:{enabled:!1},colors:e.map(a=>a.color.value),legend:{markers:{customHTML:()=>""},show:!0,formatter:(a,t)=>P(e[t.seriesIndex])},tooltip:{enabled:!1},states:{hover:{filter:{type:"darken"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none"}}},plotOptions:{pie:k},responsive:$}}var Q=["chart"],h=class e{chart;data=[];chartOptions;ngOnInit(){this.chartOptions=L(this.data)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=l({type:e,selectors:[["app-ui-chart-rating"]],viewQuery:function(t,i){if(t&1&&v(Q,5),t&2){let r;b(r=O())&&(i.chart=r.first)}},inputs:{data:"data"},decls:2,vars:9,consts:[["id","chart",1,"w-full","h-4/6"],[3,"series","chart","responsive","legend","tooltip","plotOptions","colors","dataLabels","states"]],template:function(t,i){t&1&&(o(0,"div",0),m(1,"apx-chart",1),n()),t&2&&(s(),c("series",i.chartOptions.series)("chart",i.chartOptions.chart)("responsive",i.chartOptions.responsive)("legend",i.chartOptions.legend)("tooltip",i.chartOptions.tooltip)("plotOptions",i.chartOptions.plotOptions)("colors",i.chartOptions.colors)("dataLabels",i.chartOptions.dataLabels)("states",i.chartOptions.states))},dependencies:[T],encapsulation:2})};function H(e,a){if(e&1&&(o(0,"span",9)(1,"app-ui-typography",10),p(2),n(),o(3,"app-ui-typography",11),p(4),n()(),o(5,"app-ui-typography",12),p(6),n(),o(7,"app-ui-typography",13),p(8),n()),e&2){let t=C();s(2),d(t.quizResult.score),s(2),S("/",t.size,""),s(2),d(t.quizResult.formattedTime),s(2),d(t.quizResult.resultText)}}var E=class e{constructor(a){this.statisticService=a}chartData;quizResult;size=A;ngOnInit(){this.chartData=this.statisticService.getStatisticData,this.quizResult=this.statisticService.getQuizResult}static \u0275fac=function(t){return new(t||e)(g(D))};static \u0275cmp=l({type:e,selectors:[["app-statistics"]],standalone:!0,features:[w],decls:14,vars:2,consts:[[1,"absolute","inset-x-0","top","flex","flex-col","items-center","justify-between","min-h-fit","w-full","bg-primary"],[1,"first:text-bright","flex","items-center","*:p-1.5","flex-wrap","justify-center","text-center","w-3/4","pb-3"],["type","H2"],["type","H2","highlightText","ellipse"],["link","/quizzes-catalog",1,"mb-4","lg:absolute","lg:left-3"],["size","md","type","accent","iconState","prev"],[1,"bg-bright","m-5","p-10","rounded-3xl","flex","flex-col","items-center","h-auto","justify-between","xl:w-1/2","max-xl:w-1/2","lg:w-2/3","max-lg:w-3/5","md:w-3/4","max-md:w-3/4","max-sm:w-10/12"],["type","H4"],[1,"w-full",3,"data"],[1,"flex","items-center","pb-2"],["type","H5","highlightText","framed","highlightColor","bg-warning"],["type","P1",1,"text-bright","ml-2"],["type","H6",1,"text-bright"],["type","P1",1,"text-bright","lg:w-3/12","max-lg:w-9/12","py-3","text-center","flex","justify-center"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"app-ui-typography",2),p(3,"Your Score"),n(),o(4,"app-ui-typography",3),p(5,":"),n()(),x(6,H,9,4),o(7,"app-ui-link",4)(8,"app-ui-button",5),p(9,"Go to catalog"),n()(),o(10,"div",6)(11,"app-ui-typography",7),p(12,"My statistics"),n(),m(13,"app-ui-chart-rating",8),n()()),t&2&&(s(6),y(i.quizResult!=null?6:-1),s(7),c("data",i.chartData))},dependencies:[I,R,M,z,h],encapsulation:2})};export{E as StatisticsComponent};
