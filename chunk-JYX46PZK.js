import{A as d}from"./chunk-BURNBECF.js";import{a as l,b as u}from"./chunk-AIZVJUQQ.js";var v={CATEGORY_URL:"https://opentdb.com/api_category.php",QUESTION_URL:"https://opentdb.com/api.php?amount=10&"},n=10,a={CHART:"chart",QUIZ_RESULT:"quiz-result"},m=60;function s(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||e}function h(e){return u(l({},e),{question:s(e.question),category:s(e.category),correct_answer:s(e.correct_answer),incorrect_answers:e.incorrect_answers.map(s)})}var c=[{count:67,color:{className:"warning",value:"#FEFD54"},description:"Quizzes were played",additionalData:[{className:"",value:""}]},{count:670,color:{className:"success",value:"#63C995"},description:"Questions have been answered",additionalData:[{className:"text-success",value:"600 right"},{className:"text-error",value:"70 wrong"}]},{count:675,color:{className:"accent",value:"#3545E9"},description:"Time of answering quizzes",additionalData:[{className:"",value:"min"}]}];var p=class e{get getQuizResult(){return this.getFromStorage(a.QUIZ_RESULT,null)}get getStatisticData(){return this.getFromStorage(a.CHART,c)}initDefaultStatistic(){localStorage.getItem(a.CHART)||this.saveToStorage(a.CHART,c)}initScore(r,t){let o=0;return r.subscribe(i=>{i.forEach((g,S)=>{s(g.correct_answer)===t[S]&&o++})}).unsubscribe(),o}initResult(r){this.saveToStorage(a.QUIZ_RESULT,r);let t=this.getStatisticData;t[0].count++,t[1].count+=n;let o=parseInt(t[1].additionalData[0].value)||0,i=parseInt(t[1].additionalData[1].value)||0;t[1].additionalData[0].value=`${o+r.score} right`,t[1].additionalData[1].value=`${i+(n-r.score)} wrong`,t[2].count+=+(r.seconds/m).toFixed(1),this.saveToStorage(a.CHART,t)}getFromStorage(r,t){try{let o=localStorage.getItem(r);return o?JSON.parse(o):t}catch{return t}}saveToStorage(r,t){localStorage.setItem(r,JSON.stringify(t))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"})};export{v as a,n as b,h as c,p as d};
